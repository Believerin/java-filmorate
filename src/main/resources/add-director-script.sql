CREATE TABLE IF NOT EXISTS DIRECTORS (
DIRECTOR_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
DIRECTOR_NAME VARCHAR
);

CREATE TABLE IF NOT EXISTS DIRECTORS_FILM (
    DIRECTOR_ID INTEGER REFERENCES DIRECTORS (DIRECTOR_ID),
    FILM_ID INTEGER REFERENCES FILM (FILM_ID),
    CONSTRAINT DIRECTORS_FILM_PK
        PRIMARY KEY (DIRECTOR_ID, FILM_ID)
);

ALTER TABLE film
ADD COLUMN DIRECTOR_ID INTEGER REFERENCES DIRECTORS(DIRECTOR_ID)
    ON UPDATE CASCADE
    ON DELETE CASCADE;